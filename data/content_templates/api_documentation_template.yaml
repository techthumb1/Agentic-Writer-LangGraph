# data/content_templates/api_documentation_template.yaml
# FIXED: Added required enterprise metadata, requirements, and research blocks.

name: "API Documentation Template"
slug: "api_documentation_template"
version: "2.1"
template_type: "api_documentation"
id: "api_documentation_template"

description: >
  Professional API documentation generator. Creates actual API reference docs, not blog posts about APIs.
  Uses MCP tools for dynamic content generation.

# ----------------------------------------------------------------
# ENTERPRISE METADATA BLOCK (Required by Planner)
# ----------------------------------------------------------------
metadata:
  strategy: "developer_enablement_and_adoption"
  positioning: "The definitive source of truth for seamless API integration"
  complexity: 8 # On a scale of 1-10
  domain: "technical"

# ----------------------------------------------------------------
# ENTERPRISE STRUCTURE BLOCK (Required by Planner)
# ----------------------------------------------------------------
structure:
  approach: "endpoint_centric_reference_manual"
  header_hierarchy: [1, 2, 3, 3] # H1 for Title, H2 for Sections, H3 for Endpoints etc.
  sections:
    - name: "Introduction"
      description: "A brief overview of the API's purpose and capabilities."
    - name: "Authentication"
      description: "Detailed instructions on how to authenticate requests."
    - name: "Core Resources & Endpoints"
      description: "Detailed breakdown of each API endpoint, including methods, parameters, and responses."
    - name: "Error Handling"
      description: "A guide to understanding and handling common API errors."
    - name: "Code Examples"
      description: "Practical, copy-paste ready examples in multiple languages."

# ----------------------------------------------------------------
# ENTERPRISE REQUIREMENTS BLOCK (Required by Planner)
# ----------------------------------------------------------------
requirements:
  requires_code: true
  min_words: 3000
  key_messages:
    - "Easy and secure authentication"
    - "Predictable, well-structured endpoints"
    - "Robust error handling for reliable integration"
    - "Actionable code examples to accelerate development"
  success_metrics:
    developer_satisfaction_score: 0.95
    time_to_first_successful_call_minutes: 5
    api_adoption_rate_increase_percent: 15

# ----------------------------------------------------------------
# ENTERPRISE RESEARCH BLOCK (Required by Planner)
# ----------------------------------------------------------------
research:
  priorities:
    - "Best practices for RESTful API documentation structure"
    - "Common authentication methods (OAuth 2.0, Bearer Tokens, API Keys)"
    - "Analysis of industry-leading API documentation from Stripe, Twilio, and GitHub"
    - "Developer pain points in API integration"

# ----------------------------------------------------------------
# AGENT & SERVER CONFIGURATIONS (Existing)
# ----------------------------------------------------------------
inputs:
  api_name: { required: true }
  api_domain: { default: "web_service" }
  auth_type: { default: "api_key" }
  programming_languages: { default: ["curl", "javascript", "python"] }
  base_url: { optional: true, default: "https://api.example.com/v1" }
  version_number: { default: "v1" }

writer_instructions:
  content_type: "api_documentation"
  format: "reference_manual"
  include_working_examples: true
  generate_realistic_endpoints: true

distribution_channels:
  - "developer_portal"
  - "postman_collection"
  - "github_wiki"

code_generation_config:
  enabled: true
  languages: ["python", "javascript", "bash"]
  style: "clear_and_commented"
  examples:
    - placeholder: "[CODE_EXAMPLE_AUTHENTICATION]"
      type: "initialization"
      description: "Shows how to set up the client and authenticate."
    - placeholder: "[CODE_EXAMPLE_GET_REQUEST]"
      type: "function_call"
      description: "Demonstrates a common GET request."
    - placeholder: "[CODE_EXAMPLE_POST_REQUEST]"
      type: "function_call"
      description: "Demonstrates a common POST request with a payload."

output:
  format: "markdown"
  require:
    working_examples: true
    multiple_languages: true
    realistic_endpoints: true
    error_codes: true