name: "Research Paper Generator"
slug: "research_paper_template"
version: "2.0"
template_type: "technical_documentation"

description: >
  Academic research paper generator. Creates publication-quality research papers with methodology and findings,
  not blog posts about research topics.

# Inputs (resolved at runtime from request payload or style profile)
inputs:
  research_topic: { required: true }
  academic_field: { required: true }             # "psychology", "computer_science", "medicine", "business"
  research_type: { default: "empirical" }        # "empirical", "theoretical", "literature_review", "case_study"
  methodology: { default: "quantitative" }       # "quantitative", "qualitative", "mixed_methods"
  target_audience: { default: "academic" }       # "academic", "practitioners", "general_scholarly"
  publication_target: { default: "peer_reviewed" } # "peer_reviewed", "conference", "thesis", "report"
  citation_style: { default: "apa" }            # "apa", "mla", "chicago", "ieee", "harvard"
  sample_size: { optional: true }
  # Optional user overrides
  theoretical_framework: { optional: true }
  research_questions: { optional: true }
  statistical_methods: { optional: true }
  ethical_considerations: { optional: true }

# Priority-based requirement resolution
requirements:
  min_words:
    priority:
      - dynamic.min_words
      - style.length_limit.target
      - 8000
  min_citations:
    priority:
      - dynamic.min_citations
      - style.requirements.min_citations
      - 25
  min_sections:
    priority:
      - dynamic.min_sections
      - 8

# Template-specific writer instructions
writer_instructions:
  content_type: "research_paper"                  # CRITICAL: Actual academic research paper!
  format: "academic_manuscript"
  include_methodology: true
  generate_realistic_findings: true
  follow_academic_standards: true
  enforce_citation_requirements:
    priority:
      - dynamic.enforce_citation_requirements
      - true

mcp:
  tool_sequence:
    priority:
      - dynamic.tool_sequence
      - [academic_search, statistical_analyzer, citation_generator, peer_review_checker]

sections:
  order:
    priority:
      - dynamic.section_order
      - ["title_abstract", "introduction", "literature_review", "methodology", "results", "discussion", "conclusion", "references"]

prompt_schema:
  system_preamble: |
    You are a distinguished academic researcher and scholarly writer. Create rigorous, publication-quality
    research papers that advance knowledge in the field. Generate actual research manuscripts with
    methodology, findings, and academic rigor - not explanatory content about research topics.

  content_template: |
    # {{research_title}}

    ## Abstract
    {{abstract_section}}

    ## Introduction
    {{introduction_section}}

    ## Literature Review
    {{literature_review}}

    ## Methodology
    {{methodology_section}}

    ## Results
    {{results_section}}

    ## Discussion
    {{discussion_section}}

    ## Conclusion
    {{conclusion_section}}

    ## Limitations and Future Research
    {{limitations_section}}

    ## References
    {{references_section}}

  placeholders:
    - research_title
    - abstract_section
    - introduction_section
    - literature_review
    - methodology_section
    - results_section
    - discussion_section
    - conclusion_section
    - limitations_section
    - references_section

output:
  format: "markdown"
  require:
    academic_rigor: true
    proper_citations: true
    methodology_section: true
    peer_reviewable: true

# === WriterzRoom enterprise output controls ===
post_config:
  enabled: false        # set to true in social_media_campaign.yaml
  min_posts: 3          # used only when enabled
  max_posts: 5          # used only when enabled
  paragraph_length: short   # short | medium | long
  per_post_requirements:
    min_words: 60
    max_words: 120
  composition:
    include_cta: true
    include_hashtags: 3      # 0 = none
    include_links: optional  # optional | required | none

output_policy:
  no_code: true          # enforce: remove code blocks/inlines
  max_bullets: 0         # 0 for social; you can set 6+ on longform templates
  min_paragraphs: 3      # minimum paragraphs after sanitation
  paragraph_first: true  # prefer paragraphs over lists

# Optional: planner override keys (validated upstream; no fallbacks here)
planner_overrides:
  planned_posts: null    # integer; must be within [min_posts, max_posts] when provided

include_code_examples:
  type: "checkbox"
  default: true  # Default TRUE for technical docs
  label: "Include Code Examples"
  description: "Include technical code snippets and implementation examples"